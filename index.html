<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W.E Gaufres Manager v4 PRO</title>
    <link rel="stylesheet" href="style.css?v=3">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>

<body>

    <!-- ======================= NAVBAR ======================= -->
 <nav class="navbar">
    <button id="tab-dashboard" onclick="showPage('dashboard')" class="active">Dashboard</button>
    <button id="tab-ventes" onclick="showPage('ventes')">Ventes</button>
    <button id="tab-packs" onclick="showPage('packs')">Packs</button>
    <button id="tab-recettes" onclick="showPage('recettes')">Recettes</button>
    <button id="tab-ingredients" onclick="showPage('ingredients')">Ingr√©dients</button>
    <button id="tab-vendeurs" onclick="showPage('vendeurs')">Vendeurs</button>
    <button id="tab-depenses" onclick="showPage('depenses')">D√©penses</button>
    <button id="tab-historique" onclick="showPage('historique')">Historique</button>
</nav>

<!-- VENTES -->
<section id="page-ventes" class="page hidden">
    <div class="card">
        <h1>Nouvelle vente</h1>
        <p class="subtitle">
            Enregistre ici une nouvelle vente. Chaque vente est ind√©pendante et s'ajoute √† l‚Äôhistorique.
        </p>

        <div class="grid-2">
            <div>
                <label>Date</label>
                <input type="date" id="vente-date" />
            </div>

            <div>
                <label>Heure</label>
                <input type="time" id="vente-heure" />
            </div>

            <div>
                <label>Vendeur</label>
                <select id="vente-vendeur"></select>
            </div>

                        <div>
                <label>Lieu</label>
                <input type="text" id="vente-lieu" placeholder="March√©, boutique, √©v√©nement‚Ä¶" />
            </div>

            <div class="full-width">
                <label>Packs vendus</label>
                <p class="subtitle small">
                    Les packs list√©s ici viennent de l‚Äôonglet <strong>Packs</strong>.
                    Choisis un pack dans la liste, indique combien tu en as vendu, puis clique sur ¬´ Ajouter ¬ª.
                </p>

                <!-- Ligne de s√©lection du pack -->
                <div class="vente-pack-select-row">
                    <select id="vente-pack-select">
                        <option value="">-- Choisir un pack --</option>
                    </select>

                    <input type="number" id="vente-pack-qte" min="1" value="1" />

                    <button type="button" id="vente-pack-add-btn" class="btn btn-secondary">
                        ‚ûï Ajouter ce pack
                    </button>
                </div>

                <!-- Packs ajout√©s pour cette vente -->
                <div id="vente-packs-choisis" class="vente-packs-choisis">
                    <em>Aucun pack encore ajout√© pour cette vente.</em>
                </div>
            </div>


            <div>
                <label>Unit√©s vendues (hors packs)</label>
                <input type="number" id="vente-unites" min="0" value="0" />
            </div>

            <div>
                <label>Prix unitaire (FCFA)</label>
                <input type="number" id="vente-prix-unite" value="50" min="0" />
            </div>
        </div>

        <button class="btn-primary" id="btn-enregistrer-vente">
            ‚ûï Enregistrer la vente
        </button>
    </div>

    <div class="card" id="liste-ventes">
        <h2>Ventes du jour</h2>
        <p class="subtitle">Les ventes ajout√©es apparaissent ici.</p>
        <div id="vente-liste-container"></div>
    </div>
</section>


    <!-- ======================= PAGE : DASHBOARD ======================= -->
<section id="page-dashboard" class="page">

    <h1>Tableau de Bord</h1>

    <div class="dashboard-grid">

        <!-- Gaufres vendues -->
        <div class="dash-card">
            <h3>Total gaufres vendues</h3>
            <p id="dash-total-gaufres">0</p>
        </div>

        <!-- Chiffre d‚Äôaffaires -->
        <div class="dash-card">
            <h3>Revenu total</h3>
            <p id="dash-revenu-total">0 FCFA</p>
        </div>

        <!-- D√©penses -->
        <div class="dash-card">
            <h3>D√©penses totales</h3>
            <p id="dash-depenses">0 FCFA</p>
        </div>

        <!-- B√©n√©fice net -->
        <div class="dash-card">
            <h3>B√©n√©fice net</h3>
            <p id="dash-benefice-net">0 FCFA</p>
        </div>

                <!-- Stock de gaufres pr√™tes -->
        <div class="dash-card">
            <h3>Stock de gaufres</h3>
            <p id="dash-stock-restant">0 gaufres</p>
        </div>


        <!-- Capacit√© gaufres restantes -->
        <div class="dash-card">
            <h3>Capacit√© restante</h3>
            <p id="dash-capacite">0 gaufres</p>
        </div>

        <!-- Meilleur vendeur -->
        <div class="dash-card big">
            <h3>Meilleur vendeur</h3>
            <p id="dash-best-vendeur">-</p>
        </div>

        <!-- Pack le plus vendu -->
        <div class="dash-card big">
            <h3>Pack le plus vendu</h3>
            <p id="dash-best-pack">-</p>
        </div>

    </div>

    <hr class="separator">

        <h2>Statistiques avanc√©es</h2>

    <div class="dash-advanced">
        <p id="dash-stats-ventes">Analyse ventes : -</p>
        <p id="dash-stats-ingredients">Analyse ingr√©dients : -</p>
    </div>

    <div style="margin-top: 20px; text-align: right;">
        <button class="btn btn-pink" onclick="shareDashboard()">
            üì≤ Partager le tableau de bord
        </button>
    </div>

</section>




    <!-- ======================= -->
<!--   PAGE : PACKS          -->
<!-- ======================= -->
<section id="page-packs" class="page hidden">
    <div class="card">
        <h1>Packs</h1>
        <p class="subtitle">Cr√©e des packs de gaufres pour la vente (ex : pack de 11, de 22, etc.)</p>

        <h2>Cr√©er un nouveau pack</h2>

        <label>Nom du pack :</label>
        <input type="text" id="pack-nom" placeholder="Ex : Pack 11 gaufres">

        <label>Nombre de gaufres dans le pack :</label>
        <input type="number" id="pack-qte" min="1" placeholder="Ex : 11">

        <label>Prix de vente du pack :</label>
        <input type="number" id="pack-prix" min="0" placeholder="Ex : 500">

        <button id="btn-add-pack" class="btn btn-primary">Cr√©er le pack</button>

        <hr>

        <h2>Packs existants</h2>
        <div id="packs-list"></div>
    </div>
</section>

<!-- ======================= -->
<!--      PAGE : RECETTES    -->
<!-- ======================= -->
<section id="page-recettes" class="page hidden">

    <div class="card">
        <h1>Recettes (P√¢te ‚Äì Base 1 kg de farine)</h1>
        <p class="subtitle">
            D√©clare ici les quantit√©s r√©elles utilis√©es pour pr√©parer ta p√¢te. 
            Le syst√®me calculera automatiquement le co√ªt total et le co√ªt de revient par gaufre.
        </p>

        <!-- Formulaire cr√©ation recette -->
        <h2>Cr√©er une recette</h2>

        <label>Nom de la recette :</label>
        <input id="rec-nom" type="text" placeholder="Ex : P√¢te vanille">

   <label>Nombre de gaufres obtenues :</label>
<input id="rec-nb-gaufres" type="number" min="1" placeholder="Ex : 120">

<label>Prix de vente d‚Äôune gaufre (FCFA) :</label>
<input id="rec-prix-vente" type="number" min="0" placeholder="Ex : 200">

<h3>Ingr√©dients utilis√©s dans la recette</h3>


        <!-- Ajout d'ingr√©dient -->
        <div class="recette-add-ing">
            <label>Ingr√©dient :</label>
            <select id="rec-ingredient-select">
                <option value="">-- Choisir un ingr√©dient --</option>
            </select>

            <label>Quantit√© :</label>
            <input id="rec-ingredient-qte" type="number" min="0" placeholder="Ex : 250">

            <label>Unit√© :</label>
            <select id="rec-ingredient-unit">
                <option value="g">g</option>
                <option value="kg">kg</option>
                <option value="ml">ml</option>
                <option value="l">L</option>
                <option value="piece">pi√®ce</option>
            </select>

            <button id="rec-add-ingredient-btn" class="btn btn-secondary" style="margin-top:10px;">
                ‚ûï Ajouter cet ingr√©dient
            </button>
        </div>

        <br>

        <!-- Liste ingr√©dients recette -->
        <div class="card">
            <h3>Ingr√©dients ajout√©s :</h3>
            <div id="rec-ingredients-list">
                <em>Aucun ingr√©dient ajout√© pour le moment.</em>
            </div>
        </div>

        <br>

        <button id="btn-save-recipe" class="btn btn-primary">Enregistrer la recette</button>
    </div>

    <hr>

    <!-- Liste des recettes existantes -->
    <div class="card">
        <h2>Recettes enregistr√©es</h2>
        <div id="rec-liste"></div>
    </div>

</section>


<!-- ======================= PAGE : INGR√âDIENTS ======================= -->
<section id="page-ingredients" class="page hidden">

    <h1>Ingr√©dients ‚Äì Stock & Co√ªt</h1>

    <h2>Ajouter un ingr√©dient au stock</h2>

    <label>Nom de l'ingr√©dient :</label>
    <input id="ing-nom" placeholder="Ex : Farine">

    <label>Prix d'achat (FCFA) :</label>
    <input type="number" id="ing-prix" min="0" placeholder="Ex : 900">

    <label>Quantit√© :</label>
 :</label>
    <input type="number" id="ing-qt" min="0" placeholder="Ex : 1000">

    <label>Unit√© du paquet :</label>
    <select id="ing-unit">
        <option value="g">g</option>
        <option value="kg">kg</option>
        <option value="ml">ml</option>
        <option value="l">L</option>
        <option value="piece">pi√®ce</option>
        <option value="sachet">sachet</option>
    </select>
    <label>Seuil d'alerte (m√™me unit√©) :</label>
    <input type="number" id="ing-seuil" min="0" placeholder="Ex : 200">

    <button id="btn-add-ingredient" class="btn btn-primary" style="margin-top: 10px;">
        Ajouter l'ingr√©dient
    </button>

    <h2>Stock actuel</h2>
    <div id="ingredients-list"></div>

</section>



    <!-- ======================= PAGE : VENDEURS ======================= -->
    <section id="page-vendeurs" class="page hidden">
        <h1>Vendeurs</h1>

        <h2>Ajouter un vendeur</h2>
        <label>Nom :</label>
        <input id="vendeur-nom" placeholder="Pr√©nom">

        <label>Commission (% ou montant fixe) :</label>
        <input id="vendeur-commission" placeholder="Ex : 500 (montant fixe)">

        <button class="btn btn-primary" onclick="addVendeur()">Ajouter le Vendeur</button>

        <h2>Liste des vendeurs</h2>
        <div id="vendeurs-list"></div>
    </section>



    <!-- ======================= PAGE : D√âPENSES ======================= -->
    <section id="page-depenses" class="page hidden">
        <h1>D√©penses du Jour</h1>

        <label>Cat√©gorie :</label>
        <input id="dep-cat" placeholder="Ex : Transport, Farine‚Ä¶">

        <label>Montant (FCFA) :</label>
        <input type="number" id="dep-montant" min="50">

        <label>Commentaire :</label>
        <textarea id="dep-note" placeholder="D√©tails optionnels"></textarea>

        <button class="btn btn-danger" onclick="addDepense()">Ajouter D√©pense</button>

        <h2>D√©penses enregistr√©es</h2>
        <div id="depenses-list"></div>
    </section>



    <!-- ======================= PAGE : HISTORIQUE ======================= -->
    <section id="page-historique" class="page hidden">
        <h1>Historique</h1>

        <div id="historique-list"></div>

        <button class="btn btn-yellow" onclick="exportPDF()">Exporter PDF</button>
        <button class="btn btn-primary" onclick="exportCSV()">Exporter CSV</button>
        <button class="btn btn-pink" onclick="shareWhatsapp()">Partager WhatsApp</button>
    </section>


    <!-- ======================= SCRIPTS ======================= -->
    <script src="app.js"></script>

</body>
</html>
